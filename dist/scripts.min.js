let pokemonRepository=function(){let e=[];function a(a){'object'==typeof a&&'detailsUrl'in a?e.push(a):console.log('Pokemon is not in the list.')}function b(){return e}function c(a){return fetch(a.detailsUrl).then(function(a){return a.json()}).then(function(b){a.imageUrl=b.sprites.other.dream_world.front_default,a.id=b.id,a.height=b.height,a.weight=b.weight,a.types=b.types.map(a=>a.type.name).join(', '),a.abilities=b.abilities.map(a=>a.ability.name).join(', ')}).catch(function(a){console.error(a)})}function d(a){let b=$('.modal-body'),d=$('.modal-title');d.empty(),b.empty(),c(a).then(function(){f(a)})}function f(a){let b=$('.modal-body'),c=$('.modal-title');c.empty(),b.empty();let e=$('<h1>'+a.name+'</h1>'),d=$('<img class="pokemon-img">');d.attr('src',a.imageUrl);let f=$('<p>Pok\xe9dex Number: '+a.id+'</p>'),g=$('<p>Height: '+a.height+'</p>'),h=$('<p>Weight: '+a.weight+'</p>'),i=$('<p>Types: '+a.types+'</p>'),j=$('<p>Abilities: '+a.abilities+'</p>');c.append(e),b.append(d),b.append(f),b.append(g),b.append(h),b.append(i),b.append(j)}return{add:a,getAll:b,addListItem:function(c){let e=document.querySelector('.pokemon-list'),b=document.createElement('li'),a=document.createElement('button');a.classList.add('pokemonButton','button-class','btn'),a.innerText=c.name.toUpperCase(),a.setAttribute('data-toggle','modal'),a.setAttribute('data-target','#pokemon-modal'),b.appendChild(a),e.appendChild(b),a.addEventListener('click',function(){d(c)})},loadList:function(){return fetch('https://pokeapi.co/api/v2/pokemon/?limit=649').then(function(a){return a.json()}).then(function(b){b.results.forEach(function(b){a({name:b.name,detailsUrl:b.url})})}).catch(function(a){console.error(a)})},loadDetails:c,showDetails:d}}();function searchFunction(b){let c=document.getElementsByClassName('pokemonButton'),{value:d}=b.target,e=d.toLowerCase();for(let a of c)a.textContent.toLowerCase().includes(e)?a.closest('li').style.display='inline-block':a.closest('li').style.display='none'}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(a){pokemonRepository.addListItem(a)})});let search=document.getElementById('poke-search');search.addEventListener('keyup',searchFunction)